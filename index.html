<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Surprise ‚ù§Ô∏è</title>
    <style>
        :root {
            --pink-main: #d11a5e;
            --pink-light: #ffe4e1;
            --pink-button: #ff4d6d;
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: var(--pink-light);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            text-align: center;
        }

        #header-container {
            z-index: 500; 
            pointer-events: none; 
            position: relative;
            padding: 20px;
            min-height: 100px;
        }

        h1 { 
            color: var(--pink-main); 
            font-size: 2.5rem; 
            text-shadow: 2px 2px 10px rgba(255, 255, 255, 0.8);
            margin: 0;
            transition: all 0.3s ease;
        }

        .button-group {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            min-height: 250px;
            position: relative;
            width: 100%;
        }

        /* 1. MAKE BUTTON TEXT SMALLER */
        .btn {
            padding: 12px 24px; /* Reduced padding */
            font-size: 1.2rem;  /* Reduced font size */
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            white-space: nowrap; /* Keeps name on one line if possible */
        }

        #yesBtn {
            background-color: var(--pink-button);
            color: white;
            z-index: 1000; /* 2. YES BUTTON IS NOW ON TOP LAYER */
            position: relative;
            animation: pulse 1.5s infinite;
        }

        #noBtn {
            background-color: #777;
            color: white;
            z-index: 100; /* 2. NO BUTTON IS NOW ON BOTTOM LAYER */
            position: relative; 
        }

        #successMessage {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: var(--pink-light);
            z-index: 2000;
        }

        #successMessage img {
            width: 280px;
            border-radius: 25px;
            margin: 30px 0;
        }

        .heart {
            position: fixed;
            top: -10%;
            animation: fall linear forwards;
            z-index: 5;
            user-select: none;
        }

        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>

    <div id="mainContent" class="ui-container">
        <div id="header-container">
            <h1 id="question">Will you be my Valentine? ‚ù§Ô∏è</h1>
        </div>
        
        <div class="button-group">
            <button id="yesBtn" class="btn">YES!</button>
            <button id="noBtn" class="btn">No</button>
        </div>
    </div>

    <div id="successMessage">
        <h1 id="finalMessage"></h1>
        <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHpoZ3IyNG9lNGVoZTJzcmhwa295M2p4eW5sNmYxb2FhbWw0N2k4diZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/1JmGiBtqTuehfYxuy9/giphy.gif">
        <p style="font-size: 1.8rem; color: var(--pink-main); font-weight: bold;">I love you! ü•∞</p>
    </div>

    <audio id="loveSong" loop>
        <source src="doron.mp3" type="audio/mpeg">
    </audio>

    <script>
        // --- 1. SET THE NAME HERE ---
        // This looks at the URL for "?name=..."
        const urlParams = new URLSearchParams(window.location.search);
        const NAME = urlParams.get('name') || "Baby";

        // --- 3. UPDATED ARRAYS WITH NAME & NO "DIVYA" ---
        const noButtonTexts = [
            "No", "Nope", "Why?", "Please?", "Really?", 
            "Think again", "Try harder", "Missed!", "Too slow", "So mean",
            "Click Yes", "Wrong one", "Help me", "Denied", "Error 404",
            "Stop it", "Too fast", "Cant catch", "Ninja mode", "Psych!",
            "Seriously?", "Come on", "Say Yes", "Please!", "Not No",
            "Almost", "Too bad", "Look here", "Over here", "Try again",
            "Maybe?", "Nah", "Never!", "No Way", "Impossible",
            "Keep trying", "So cold", "Freezing", "Give up", "Love you",
            "Be nice", "Running", "Bye!", "Last chance", "Endless no"
        ];

        // --- UPDATED: Header Messages (Name used in ~20/50) ---
        const funnyHeaderMessages = [
            "Wait, did you try to click No? ü§®", `Is your mouse broken, ${NAME}? üñ±Ô∏è`, "Please say yessss! ü•∫",
            "Stop running! üòÇ", `${NAME}, you're very persistent...`, "Just give up and say YES! ‚ù§Ô∏è",
            "I can do this all day! üèÉ‚Äç‚ôÇÔ∏è", `Error: 'No' not allowed for ${NAME}!`, "My heart is breaking... üíî",
            "You're fast, but I'm faster!", `Is that a 'No' or a mistake, ${NAME}?`, "I'll wait... ‚è≥",
            `Don't be like that, ${NAME}!`, "You're testing my patience! üò§", "Surely you meant the pink button?",
            `I'm not leaving until ${NAME} says yes!`, "Click it. You know you want to.", "Destiny awaits!",
            `Resistance is futile, ${NAME}!`, "Aha! Missed again!", "You're making this difficult!",
            `Is this a game to you, ${NAME}? üéÆ`, "I'm getting dizzy! üòµ", `Look at the size of that YES button, ${NAME}!`,
            "It's getting bigger for a reason!", "Give in to the love! ü•∞", `No is not an option, ${NAME}.`,
            "I've coded this to be impossible!", `${NAME}, you're stubborn (I like that).`, "But seriously, say yes.",
            "My love is stronger than your will!", `Are we still doing this, ${NAME}?`, "I have 1000 more messages.",
            "Okay, that was close!", `Your aim is a bit off, ${NAME}.`, "Try using your other hand?",
            `Maybe if you close your eyes, ${NAME}?`, "I'm starting to think you LIKE this game.", "Caught in a loop!",
            `The 'No' button is scared of ${NAME}.`, "Why are you like this? üòÇ", "Just one little click...",
            `Think of the puppies, ${NAME}! üê∂`, "Think of the chocolate! üç´", "Stop it! haha",
            `I can see you trying, ${NAME}!`, "Almost!", "Not quite!", `Try again, ${NAME}!`, "Victory is near!"
        ];

        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        const mainContent = document.getElementById('mainContent');
        const successMessage = document.getElementById('successMessage');
        const loveSong = document.getElementById('loveSong');
        const questionText = document.getElementById('question');
        
        // --- 4. INSERT NAME INTO INITIAL TEXTS ---
        questionText.innerText = `Will you be my Valentine, ${NAME}? ‚ù§Ô∏è`;
        yesBtn.innerText = `YES!`; // Name in the Yes button

        let noCount = 0;
        let yesScale = 1;

        function moveButton() {
            if (noCount === 0) noBtn.style.position = 'fixed';

            noCount++;
            yesScale += 0.22; 
            yesBtn.style.transform = `scale(${yesScale})`;

            // Change header message
            const headerMsg = funnyHeaderMessages[Math.min(noCount, funnyHeaderMessages.length - 1)];
            questionText.innerText = headerMsg;

            // Change No button text
            const btnMsg = noButtonTexts[Math.min(noCount, noButtonTexts.length - 1)];
            noBtn.innerText = btnMsg;

            const padding = 50; // Reduced padding to fit screen better
            const maxX = window.innerWidth - noBtn.offsetWidth - padding;
            const maxY = window.innerHeight - noBtn.offsetHeight - padding;
            
            const randomX = Math.floor(Math.random() * (maxX - padding) + padding);
            const randomY = Math.floor(Math.random() * (maxY - padding) + padding);

            noBtn.style.left = randomX + 'px';
            noBtn.style.top = randomY + 'px';
        }

        noBtn.addEventListener('mouseover', moveButton);
        noBtn.addEventListener('touchstart', (e) => { e.preventDefault(); moveButton(); });

        yesBtn.addEventListener('click', () => {
            mainContent.style.display = 'none';
            successMessage.style.display = 'flex';
            
            document.getElementById('finalMessage').innerText = noCount > 0 
                ? `I knew it! You tried to say No ${noCount} times, but love wins! ‚ù§Ô∏è`
                : `Yay! I knew you'd say Yes, ${NAME}! ‚ù§Ô∏è`;
            
            loveSong.play().catch(() => {});
            startHearts();
        });

        function startHearts() {
            const emojis = ['‚ù§Ô∏è', 'üíñ', 'üíù', 'üíï', 'üíó', 'üåπ'];
            setInterval(() => {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.fontSize = Math.random() * 25 + 20 + 'px';
                heart.style.animationDuration = Math.random() * 2 + 3 + 's';
                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 5000);
            }, 150);
        }
    </script>
</body>
</html>
